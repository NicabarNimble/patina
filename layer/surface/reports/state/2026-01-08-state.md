# Project State Report: patina

**Generated:** 2026-01-08T15:29:03.114677+00:00
**By:** patina report v0.1.0

## Summary

| Metric | Value |
|--------|-------|
| Files | 170 |
| Lines of code | 43709 |
| Functions | 1332 |

### Languages

| Language | Files | Lines |
|----------|-------|-------|
| Rust | 170 | 43709 |

## Architecture

*Via scry semantic search*

### Query: "what are the main architectural components"

1. **20251209-100946** (score: 0.85)
   Identify architectural issues

2. **20250822-160916** (score: 0.84)
   Design and implement the patina-metal architecture subsystem

3. **20251209-075138** (score: 0.84)
   Document in spec-launcher-architecture.md

4. **20251120-110914** (score: 0.84)
   **Unified "One Engine, Variable Patina Thickness" Architecture**

5. **20251209-075138** (score: 0.84)
   Design launcher architecture (`patina` as entry point)

### Query: "how is the codebase organized"

1. **20250903-064545** (score: 0.82)
   Successfully removed the code_fingerprints table and all related functionality from the codebase. This included cleaning up database migrations, re...

2. **20250902-190948** (score: 0.82)
   The last session successfully implemented LLM code intelligence pattern detection with database tables and pattern extraction that found 22 pattern...

3. **20250906-074816** (score: 0.81)
   The last session completed the scrape-to-ask refactor by removing 396 lines of pattern detection code from code.rs and created modular language arc...

4. **20250823-065307** (score: 0.81)
   **Focused on data for LLM consumption**: Shifted from "what code does" to "how developers code"

5. **20251002-055812** (score: 0.81)
   Completed and merged PR #25 (33 commits) covering all 9 language extractions and Phase 2 batch scraping. Fixed all clippy warnings in extractors an...

### Query: "what are the core abstractions"

1. **20250822-055644** (score: 0.84)
   patina-metal subsystem - Unified parser abstraction

2. **20250906-074816** (score: 0.82)
   The last session completed the scrape-to-ask refactor by removing 396 lines of pattern detection code from code.rs and created modular language arc...

3. **20250910-055853** (score: 0.82)
   The previous session enhanced C/C++ extraction with ConstantFact and MemberFact collections - C now extracts macros, enum values, and globals while...

4. **20251228-090127** (score: 0.82)
   Last session evolved `spec-command-refactoring.md` into a comprehensive `spec-architectural-alignment.md` that documents the full binary/library ar...

5. **20250823-135728** (score: 0.82)
   The previous session successfully implemented the truth data extraction system for the scrape command. Removed semantic interpretation code to focu...

## Largest Modules

| Module | Lines | Functions | % of Total |
|--------|-------|-----------|------------|
| ./src/mcp/server.rs | 1521 | 18 | 3.5% |
| ./src/commands/scrape/code/languages/typescript.rs | 1354 | 31 | 3.1% |
| ./src/commands/scrape/code/languages/cpp.rs | 1080 | 22 | 2.5% |
| ./src/main.rs | 1076 | 2 | 2.5% |
| ./src/commands/repo/internal.rs | 1002 | 31 | 2.3% |
| ./src/commands/scrape/code/languages/javascript.rs | 860 | 16 | 2.0% |
| ./src/commands/scrape/code/languages/go.rs | 817 | 20 | 1.9% |
| ./src/commands/scrape/code/languages/solidity.rs | 796 | 30 | 1.8% |
| ./src/commands/scrape/code/languages/python.rs | 721 | 18 | 1.6% |
| ./src/commands/scrape/code/database.rs | 705 | 13 | 1.6% |

## RAG Index Health

| Metric | Value |
|--------|-------|
| Last scrape | c0b0833db9fa78f2f1a99ee7e89cf0f318ff3083 |
| Total events | 47885 |
| Code events | 43372 |
| Git events | 1089 |
| Session events | 3242 |
| Indexed files | 170 |
| Vector indices | semantic, temporal, dependency |

## Tool Performance

| Tool | Metric | Value |
|------|--------|-------|
| scry | Queries run | 3 |
| scry | Empty results | 0 |
| scry | Avg results/query | 5.0 |

---

*Report quality = tool quality. Empty results indicate opportunities to improve patina's understanding.*
