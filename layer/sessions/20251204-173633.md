# Session: what is patina where are we heading
**ID**: 20251204-173633
**Started**: 2025-12-04T22:36:33Z
**LLM**: claude
**Git Branch**: patina
**Session Tag**: session-20251204-173633-start
**Starting Commit**: 0872dfaee2ef7fb12c3d0b6c1a0b04356e0ad01a

## Previous Session Context
Previous session (finish) built the Phase 3g Opportunity Provider System - a modular TOML-configured bounty detection system. Created `src/commands/scrape/github/opportunity/` with provider.rs, detector.rs, and integrated with the GitHub scraper. Supports Algora, DoraHacks, ETHGlobal, StarkNet platforms. Remaining work: update ScryResult with provider/amount fields, update display format, and test with real repos.

## Goals
- [x] Clarify Patina's identity and architecture
- [x] Audit build.md for roadmap drift
- [x] Define scope gates for core vs use-case features

## Activity Log
### 17:36 - Session Start
Session initialized with goal: what is patina where are we heading
Working on branch: patina
Tagged as: session-20251204-173633-start

### 17:40-18:30 - Architecture Clarification Discussion

**Key Insight Crystallized:**
> Patina is an LLM-agnostic agentic RAG network that captures organic knowledge across projects and domains.

**Architecture Confirmed:**

1. **Projects as RAG Nodes**
   - `layer/` = Patina content (patterns, sessions) - git-tracked
   - `.patina/` = Config and local indices - gitignored

2. **Mothership as Hub**
   - `~/.patina/persona/` - Cross-project beliefs/facts
   - `~/.patina/registry.yaml` - All known nodes
   - `~/.patina/repos/` - External repos (learning + contributing)

3. **Branch Strategy (Owner vs Contributor)**
   - Owner repos: layer/ on main/master
   - Contributor repos: Fork + patina branch for YOUR overlay, main stays clean for PRs

4. **Domain Tags** - Nodes tagged for cross-project queries (rust, cairo, ecs)

5. **Data Flow** - UP only (project → persona), DOWN via explicit queries

**Source Architecture:**
- Core sources: git, code, sessions (universal)
- Optional adapters: GitHub, Jira (pluggable)
- Modules on adapters: bounty detection (use-case specific)

**Model Management (Hybrid):**
- Projects declare DIMENSIONS (semantic, temporal, dependency)
- Mothership provides MODELS (picks best for hardware)
- Adapter pattern applied to embedding models

**build.md Audit:**
- Phases 1-3d: ✅ Core RAG, aligned
- Phase 3e GitHub: ⚠️ Issues fine, bounty logic drifting
- Phase 3f Mothership: ✅ Aligned
- Phase 3g Bounty: ❌ **DRIFT** - use-case specific, should be MODULE

**Next Steps (Future Session):**
1. Document architecture: `layer/core/rag-network.md`
2. Revise build.md to reflect correct architecture
3. Refactor bounty code to module structure
4. Update mothership spec with persona/node/domain model

**Artifact:** `layer/surface/rag-network.md`


## Session Classification
- Work Type: exploration
- Files Changed:        0
- Commits:        0
- Patterns Modified:        0
- Session Tags: session-20251204-173633-start..session-20251204-173633-end
