# Session: stable-parsing-engine + blob SHA-based incremental parsing
**ID**: 20250824-113703
**Started**: 2025-08-24T15:37:03Z
**LLM**: claude
**Git Branch**: stable-parsing-engine
**Session Tag**: session-20250824-113703-start
**Starting Commit**: 1cc8b545ac0148b2db40ec4061adfc8024123062

## Previous Session Context
Successfully implemented vendor-and-pin architecture for all tree-sitter grammars, removing git submodules entirely. Created grammar-pack.toml for version tracking and embedded commit SHAs in the binary for reproducibility. All parsers tested and working with real repositories.

## Goals
- [ ] stable-parsing-engine + blob SHA-based incremental parsing

## Activity Log
### 11:37 - Session Start
Session initialized with goal: stable-parsing-engine + blob SHA-based incremental parsing
Working on branch: stable-parsing-engine
Tagged as: session-20250824-113703-start


### 20:46 - Update (covering since 11:37)

**Git Activity:**
- Commits this session:        0
- Files changed: 5
- Last commit: 11 hours ago

**Work completed:**
- Analyzed blob SHA vs mtime-based incremental parsing - concluded mtime is sufficient
- Shifted focus from parsing to retrieval and context building 
- Completely redesigned approach in DESIGN.md and TODO.md
- Explored real documentation patterns across 4 repos (Patina, Dust, Dagger, Cortex)
- Discovered most docs are terse descriptions, not complex claims needing verification
- Designed doc extraction strategy focusing on simple text capture
- Created specifications for 4 output files: scrape-facts.db/.toml/.md and scrape-index.toml
- Simplified navigation to just database queries returning file:line locations

**Key decisions:**
- Abandoned blob SHA tracking - mtime-based incremental is good enough for development tools
- Dropped doc verification/truth scoring - real docs are too simple to need it
- Eliminated complex navigation systems - database queries are sufficient
- Focused on retrieval over extraction - the gap is getting facts to LLMs, not collecting them
- Chose simplicity over cleverness - just facts in DB, queries to get them out

**Challenges faced:**
- Initial overengineering of doc verification system based on imagined "BS" that doesn't exist
- Complex navigation system from old pattern-matching approach didn't fit code intelligence needs
- Balancing comprehensive extraction with practical token limits for LLMs

**Patterns observed:**
- Most documentation is terse purpose statements, not verifiable claims
- Industry code intelligence systems all use query-based retrieval, not giant context dumps
- The value is in having docs as context, not in verifying their truth
- Simple database queries returning file:line locations are sufficient for navigation
- LLMs need focused context from targeted queries, not exhaustive data dumps


## Session Classification
- Work Type: exploration
- Files Changed:        0
- Commits:        0
- Patterns Modified:        0
- Session Tags: session-20250824-113703-start..session-20250824-113703-end
